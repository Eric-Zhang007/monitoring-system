global:
  resolve_timeout: 5m

route:
  group_by: ["alertname", "route"]
  group_wait: 15s
  group_interval: 2m
  repeat_interval: 15m
  receiver: p2-webhook
  routes:
    - matchers:
        - severity="P1"
      receiver: p1-webhook
      repeat_interval: 5m
    - matchers:
        - severity="P2"
      receiver: p2-webhook
      repeat_interval: 15m

receivers:
  - name: p1-webhook
    webhook_configs:
      - url: http://backend:8000/api/v2/alerts/notify
        send_resolved: true
  - name: p2-webhook
    webhook_configs:
      - url: http://backend:8000/api/v2/alerts/notify
        send_resolved: true
